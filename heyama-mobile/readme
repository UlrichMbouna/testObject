# README - Application Mobile Heyama (Expo)

## ğŸ“± Description
Application mobile React Native avec Expo pour gÃ©rer des objets. Compatible iOS, Android et Web.

## ğŸš€ Installation Rapide

```bash
# 1. Installer Expo CLI globalement
npm install -g expo-cli

# 2. Cloner et installer
cd heyama-mobile
npm install

# 3. Installer les dÃ©pendances Expo
npx expo install
```

## âš™ï¸ Configuration

### Pour Android (Appareil physique ou Ã©mulateur)
1. Trouvez votre adresse IP locale :
   ```bash
   # Windows
   ipconfig
   
   # Mac/Linux
   ifconfig | grep "inet "
   ```

2. Modifiez `src/lib/api.ts` :
   ```javascript
   const API_BASE_URL = 'http://VOTRE_IP:3001/api';
   ```

### Pour iOS Simulator
Utilisez `http://localhost:3001/api`

## â–¶ï¸ Lancement

```bash
# DÃ©veloppement gÃ©nÃ©ral
npm start

# iOS spÃ©cifique
npm run ios

# Android spÃ©cifique
npm run android

# Web
npm run web
```

## ğŸ“± Test sur Appareil Physique

1. Installez **Expo Go** depuis l'App Store ou Play Store
2. Lancez l'application : `npm start`
3. Scannez le QR code avec Expo Go

## ğŸ“ Structure du Projet

```
src/
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ HomeScreen.tsx       # Liste des objets
â”‚   â”œâ”€â”€ CreateObjectScreen.tsx # Formulaire crÃ©ation
â”‚   â”œâ”€â”€ ObjectDetailScreen.tsx # DÃ©tails objet
â”‚   â””â”€â”€ SettingsScreen.tsx   # ParamÃ¨tres
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/              # Composants rÃ©utilisables
â”‚   â””â”€â”€ objects/             # Composants objets
â”œâ”€â”€ contexts/                # Ã‰tats globaux
â”œâ”€â”€ navigation/              # Navigation React Navigation
â”œâ”€â”€ lib/                     # API et services
â””â”€â”€ hooks/                   # Hooks personnalisÃ©s
```

## ğŸ”— Configuration du Backend

### Requirements
- Backend NestJS tournant sur port 3001
- MongoDB connectÃ©
- Socket.IO activÃ©

### Pour dÃ©veloppement avec appareil physique :
1. Backend doit Ãªtre accessible sur votre rÃ©seau local
2. DÃ©sactiver le firewall si nÃ©cessaire
3. Utiliser votre IP locale (pas localhost)

## ğŸ“¸ FonctionnalitÃ©s Camera/Galerie

L'application demande automatiquement les permissions pour :
- Prendre des photos avec la camÃ©ra
- SÃ©lectionner des images depuis la galerie
- AccÃ©der au stockage pour cache

## âš¡ FonctionnalitÃ©s Temps RÃ©el

- Mise Ã  jour instantanÃ©e lors de l'ajout/suppression
- Indicateur de connexion WebSocket
- Reconnection automatique

## ğŸ› ï¸ Build pour Production

```bash
# Configuration EAS Build
npx eas-cli init

# Build pour Android
npx eas build -p android

# Build pour iOS (nÃ©cessite compte Apple Developer)
npx eas build -p ios
```

## ğŸ› DÃ©pannage

### ProblÃ¨me : "Network Error" sur Android
**Solution :**
1. VÃ©rifiez que l'IP est correcte dans `src/lib/api.ts`
2. VÃ©rifiez que le backend est accessible depuis votre tÃ©lÃ©phone
3. Testez avec : `ping VOTRE_IP` depuis l'ordinateur

### ProblÃ¨me : Images non uploadÃ©es
**Solution :**
1. VÃ©rifiez les permissions camÃ©ra/galerie
2. RedÃ©marrez l'application
3. VÃ©rifiez la taille des images (max 10MB recommandÃ©)

### ProblÃ¨me : Socket.IO non connectÃ©
**Solution :**
1. VÃ©rifiez que le backend a Socket.IO d'activÃ©
2. RedÃ©marrez l'application mobile
3. VÃ©rifiez les logs du backend

## ğŸ“± CompatibilitÃ©

- **iOS 13+** (avec Expo Go ou build standalone)
- **Android 6+** (avec Expo Go ou build standalone)
- **Web** (Chrome, Firefox, Safari)

## ğŸ”§ Scripts Utiles

```bash
# Nettoyer le cache
npm start -- --clear

# Lancer avec tunnel (pour rÃ©seaux restrictifs)
npm start -- --tunnel

# Voir les logs
npm start -- --verbose
```

## ğŸ“ Support

Pour toute question :
1. VÃ©rifiez que le backend tourne
2. VÃ©rifiez votre connexion rÃ©seau
3. Consultez les logs avec `npm start -- --verbose`
